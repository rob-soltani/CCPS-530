<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CCPS 530 - Fall 2020 - Lab 4 - AJAX and DOM</title>
    <link rel="icon" href="https://rob.soltani.io/wp-content/uploads/2020/02/soltani.io-favicon.ico"
        type="image/x-icon" />


    <!-- Bootstrap CSS file -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Crimson+Text" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato:100">
    <link rel="stylesheet" href="css/styles.css" />

</head>

<body class="mt-0 p-0">

    <div class="container container-fluid">

        <nav class="navbar navbar-expand-lg navbar-dark sticky-top" style="background-color:#004c9b" id="Navigation">
            <a class="navbar-brand d-block d-lg-none" href="#">CCPS 530 - Lab 3</a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a href="#MyFavouriteWebDevTechs" class="nav-link" id="MenuItem_MyFavouriteWebDevTechs">My
                            Favourite Web Dev
                            Techs</a>
                    </li>
                    <li class="nav-item">
                        <a href="#LabInfo" class="nav-link" id="MenuItem_LabInfo">Lab Info</a>
                    </li>
                    <li class="nav-item">
                        <a href="#CourseInfo" class="nav-link" id="MenuItem_CourseInfo">Course Info</a>
                    </li>
                    <li class="nav-item">
                        <a href="#UniversityInfo" class="nav-link" id="MenuItem_UniversityInfo">University Info</a>
                    </li>
                    <li class="nav-item">
                        <a href="#PageInfo" class="nav-link" id="MenuItem_PageInfo">Page Info</a>
                    </li>

                </ul>
                <div class="navbar-nav ml-auto">
                    <a href="https://ccps530.ru.rob.soltani.io/" class="nav-item nav-link">
                        <i class="fas fa-arrow-left"></i>
                        Back to CCPS 530's Homepage
                    </a>
                </div>
            </div>
        </nav>



        <div class="row justify-content-lg-center" id="MyFavouriteWebDevTechs">
            <div class="col-lg-12">
                <br />
                <h1 class="font-weight-bold">Rob's Favourite Web Technologies</h1>
            </div>
        </div>

        <div>Web technology changing in (<span id="Timer">20</span>) seconds.</div>

        <div class="row" id="LabInfo">
            <div class="col-lg-12">
                
                <hr>
                <div id="lab-into-area">
                    <h1 class="font-weight-bold"><a href="https://rob.soltani.io">Rob (Sohrab) Soltani</a></h1>
                    <h1 class="font-weight-bold">Lab 4 - AJAX and DOM</h1>
                    <a href="https://github.com/rob-soltani/CCPS-530" target="_blank">
                        <img src="https://rob.soltani.io/wp-content/uploads/2020/01/GitHub-BW-80x80.png"
                            style="width: 40px;height:40px;" alt="GitHub Logo" />
                    </a>
                </div>

                <hr>

            </div>

        </div>

        <div class="row" id="CourseInfo">

            <div class="col-lg-12">
                <br />
                <h1 class="font-weight-bold">Course Information</h1>
            </div>

            <div class="col-lg-12">
                <div class="text-center">

                    <h2 class="font-weight-bold">
                        CCPS 530 - Web Systems Development - Fall 2020
                        <br />
                        Instructor:
                        <a class="Instructor" href="https://ghassem.com" target="_blank"><span>G</span>hassem
                            <span>T</span>ofighi</a>
                    </h2>
                    <br />
                    <br />
                    <blockquote style="max-width:700px" class="m-auto">
                        <strong>Course Description</strong><br />
                        "This course presents the concepts and applications of the technologies
                        to design and develop creative and successful web services. It covers design
                        fundamentals and also programming languages for both server-side and
                        client-side environments. Responsive design, search engine optimization and
                        monetization strategies are also introduced."
                    </blockquote>
                    <br />
                    <blockquote style="max-width:700px" class="m-auto">
                        <strong>Requisites</strong><br />
                        "Prerequisite: CCPS 209"
                    </blockquote>
                    [<a href="https://continuing.ryerson.ca/search/publicCourseSearchDetails.do?method=load&courseId=24503"
                        target="_blank">Chang School Website</a>]

                    <hr>
                </div>
            </div>
        </div>

        <div class="row" id="UniversityInfo">

            <div class="col-lg-12">
                <br />
                <h1 class="font-weight-bold">University and Program Information</h1>
            </div>

            <div class="col-lg-12">
                <br />
                <div class="text-center">

                    <img src="https://rob.soltani.io/wp-content/uploads/2020/09/Ryerson-rgb.png"
                        alt="Ryerson University Logo" />
                    <h2 class="font-weight-bold">
                        <br />
                        Faculty of Science<br />
                        Computer Science Department<br />
                        Undergraduate Program <br />
                    </h2>
                    <br />
                    <blockquote style="max-width:700px" class="m-auto">
                        "As a teaching discipline, science has long been an integral part of
                        the Ryerson community. With the university being located in the heart
                        of downtown Toronto, we are uniquely positioned to lead the science world
                        in education and research. In addition to our studies in class, we hop
                        to add value to the education of students by engaging them in prolific
                        research projects in cooperation with our accomplished faculty members.
                        The Faculty of Science is committed to interdisciplinary teaching and
                        research across our four departments - physics, chemistry and biology,
                        computer science, and mathematics - to prepare our students for a career
                        in the lab, the emergency room, and beyond."
                    </blockquote>
                    [<a href="https://www.ryerson.ca/science/about/" target="_blank">Faculty of Science Website</a>]


                </div>
            </div>
        </div>





        <div class="row" id="footer">
            <div class="col-lg-12">
                <hr>
                <div id="footer-area">
                    Page last updated on October 28<sup>th</sup>, 2020, by Rob Soltani
                    <p class="jigsaw-logo-container">
                        <a href="http://jigsaw.w3.org/css-validator/validator?uri=https://ccps530.ru.rob.soltani.io/lab4/"
                            target="_blank">
                            <img class="jigsaw-logo" src="https://jigsaw.w3.org/css-validator/images/vcss"
                                alt="Valid CSS!" />
                        </a>
                    </p>

                </div>

            </div>

        </div>

    </div>




    <!-- JS files: jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

    <script
        src="https://cdn.statically.io/gh/kswedberg/jquery-smooth-scroll/3948290d/jquery.smooth-scroll.min.js"></script>

    <script>


        function scrollToElement(TheElementID) {
            var el = $("#" + TheElementID);
            var elOffset = el.offset().top;
            var elHeight = el.height();
            var windowHeight = $(window).height();
            var offset;

            if (elHeight < windowHeight) {
                offset = elOffset - ((windowHeight / 2) - (elHeight / 2));
            }
            else {
                offset = elOffset;
            }

            $.smoothScroll({ speed: 700 }, offset);
            return false;
        }


        let ListOfMenuItems = ["MenuItem_MyFavouriteWebDevTechs",
            "MenuItem_LabInfo",
            "MenuItem_CourseInfo",
            "MenuItem_UniversityInfo",
            "MenuItem_PageInfo"];


        let ListOfMenuItemDestinations = {};

        ListOfMenuItemDestinations["MenuItem_MyFavouriteWebDevTechs"] = 'MyFavouriteWebDevTechs';
        ListOfMenuItemDestinations["MenuItem_LabInfo"] = 'LabInfo';
        ListOfMenuItemDestinations["MenuItem_CourseInfo"] = 'CourseInfo';
        ListOfMenuItemDestinations["MenuItem_UniversityInfo"] = 'UniversityInfo';
        ListOfMenuItemDestinations["MenuItem_PageInfo"] = 'PageInfo';


        $(".navbar a").on("click", function () {


            $(".navbar").find(".active").removeClass("active");
            $(this).parent().addClass("active");


        });



        ListOfMenuItems.forEach(MenuItem => {

            $("#" + MenuItem).click(function () {

                if (MenuItem === "MenuItem_MyFavouriteWebDevTechs") {
                    $('html,body').animate({ scrollTop: 0 }, 'slow');
                }
                else if (MenuItem === "MenuItem_PageInfo") {
                    $('html,body').animate({ scrollTop: $(document).height() }, 'slow');
                }
                else {
                    scrollToElement(ListOfMenuItemDestinations[MenuItem]);
                }

            });

        });

    </script>


    <script>

        let ContentList = [];
        let Template = "";
        let CurrentContentIndex = 0;
        let TimerCounter = 0;

        let StartShow = function () {

            if (ContentList.length === 0 || Template.length === 0) {
                return;
            }


            if (TimerCounter !== 0)
            {
                TimerCounter = TimerCounter - 1;
                $("#Timer").html(TimerCounter);
                setTimeout(function () { StartShow(); }, 1000);
                return;
            }

            TimerCounter = 20;
            $("#Timer").html(TimerCounter);


            let CurrentContent = ContentList[CurrentContentIndex];

            var image = new Image();
            image.src = CurrentContent.ImageURL;
            image.alt = CurrentContent.ImageAlt;

            var NewContent = Template;

            $(image).on('load', function () {

                $.ajax({
                    url: CurrentContent.Description
                })
                    .done(function (data) {

                        NewContent = NewContent.replace("{{Description}}", data);

                        NewContent = NewContent.replace("{{ImageURL}}", CurrentContent.ImageURL);
                        NewContent = NewContent.replace("{{ImageAlt}}", CurrentContent.ImageAlt);
                        NewContent = NewContent.replace("{{Title}}", CurrentContent.Title);
                        NewContent = NewContent.replace("{{CitattionURL}}", CurrentContent.CitattionURL);
                        NewContent = NewContent.replace("{{CitationTitle}}", CurrentContent.CitationTitle);

                        if ($("#WebDevTechCard")) {
                            $("#WebDevTechCard").remove();
                        }

                        $("#MyFavouriteWebDevTechs").append(NewContent);

                        if ((CurrentContentIndex + 1) === ContentList.length) {
                            CurrentContentIndex = 0;
                        }
                        else {
                            CurrentContentIndex = CurrentContentIndex + 1;
                        }

                        setTimeout(function () { StartShow(); }, 1000);

                    });

            })



        }


        $.ajax({
            url: "content_list.json"
        })
            .done(function (data) {

                $.each(data, function (i, item) {

                    ContentList.push(item);

                    StartShow();

                });

            });

        $.ajax({
            url: "template.hbs"
        })
            .done(function (data) {

                Template = data;

                StartShow();

            });

    </script>

</body>

</html>