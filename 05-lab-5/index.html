<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CCPS 530 - Fall 2020 - Lab 5 - JSON and DOM</title>
    <link rel="icon" href="https://rob.soltani.io/wp-content/uploads/2020/02/soltani.io-favicon.ico"
        type="image/x-icon" />


    <!-- Bootstrap CSS file -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Crimson+Text" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato:100">
    <link rel="stylesheet" href="css/styles.css" />

</head>

<body class="mt-0 p-0">

    <a href="https://ccps530.ru.rob.soltani.io/">
        &lt;- Back to CCPS 530's Homepage</a>
    <br />

    <div class="container container-fluid ">

        <div class="row justify-content-lg-center">
            <div class="col-lg-12">
                <br />
                <h1 class="font-weight-bold">Rob's Salad Bowl of Favourite Personalities</h1>
            </div>
        </div>

        <div class="row justify-content-lg-center" id="MyFavouritePersonalities">

        </div>

        <div class="row justify-content-lg-center">
            <div class="col-lg-12">
                <hr>
                <br />
                <h1 class="font-weight-bold">The "Must be Consumed" JSON</h1>
            </div>

            <div class="col-lg-12 mt-3 mb-3" id="MusctConsumeJSONCard">
                <div class="card mb-3">
                    <div class="row no-gutters">
                        <div class="col-md-4">
                            <div class="card-img p-5">
                                <img src="https://rob.soltani.io/wp-content/uploads/2020/09/Ryerson-rgb.png" alt="Placeholder Alt Text" class="card-img p-0">
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class="card-body p-5">
                                <h4 class="card-title font-weight-bold text-left JSON_Name">{{PlaceHolder Title}}</h4>
                                <p>
                                    Year: <span class="JSON_Year"></span>
                                    <br />
                                    Engine:
                                </p>
                                <ul>
                                    <li class="JSON_Engine_type text-left"></li>
                                    <li class="JSON_Engine_size text-left"></li>
                                    <li class="JSON_Engine_configuration text-left"></li>
                                </ul>

                                <p>
                                    Brakes:
                                </p>
                                <ul>
                                    <li class="JSON_Brakes_front text-left"></li>
                                    <li class="JSON_Brakes_back text-left"></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                </div>

            </div>


        </div>

        <div class="row" id="LabInfo">
            <div class="col-lg-12">

                <hr>
                <div id="lab-into-area">
                    <h1 class="font-weight-bold"><a href="https://rob.soltani.io">Rob (Sohrab) Soltani</a></h1>
                    <h1 class="font-weight-bold">Lab 5 - JSON and DOM</h1>
                    <a href="https://github.com/rob-soltani/CCPS-530" target="_blank">
                        <img src="https://rob.soltani.io/wp-content/uploads/2020/01/GitHub-BW-80x80.png"
                            style="width: 40px;height:40px;" alt="GitHub Logo" />
                    </a>
                </div>

                <hr>

            </div>

        </div>

        <div class="row" id="CourseInfo">

            <div class="col-lg-12">
                <br />
                <h1 class="font-weight-bold">Course Information</h1>
            </div>

            <div class="col-lg-12">
                <div class="text-center">

                    <h2 class="font-weight-bold">
                        CCPS 530 - Web Systems Development - Fall 2020
                        <br />
                        Instructor:
                        <a class="Instructor" href="https://ghassem.com" target="_blank"><span>G</span>hassem
                            <span>T</span>ofighi</a>
                    </h2>
                    <br />
                    <br />
                    <blockquote style="max-width:700px" class="m-auto">
                        <strong>Course Description</strong><br />
                        "This course presents the concepts and applications of the technologies
                        to design and develop creative and successful web services. It covers design
                        fundamentals and also programming languages for both server-side and
                        client-side environments. Responsive design, search engine optimization and
                        monetization strategies are also introduced."
                    </blockquote>
                    <br />
                    <blockquote style="max-width:700px" class="m-auto">
                        <strong>Requisites</strong><br />
                        "Prerequisite: CCPS 209"
                    </blockquote>
                    [<a href="https://continuing.ryerson.ca/search/publicCourseSearchDetails.do?method=load&courseId=24503"
                        target="_blank">Chang School Website</a>]

                    <hr>
                </div>
            </div>
        </div>

        <div class="row" id="UniversityInfo">

            <div class="col-lg-12">
                <br />
                <h1 class="font-weight-bold">University and Program Information</h1>
            </div>

            <div class="col-lg-12">
                <br />
                <div class="text-center">

                    <img src="https://rob.soltani.io/wp-content/uploads/2020/09/Ryerson-rgb.png"
                        alt="Ryerson University Logo" />
                    <h2 class="font-weight-bold">
                        <br />
                        Faculty of Science<br />
                        Computer Science Department<br />
                        Undergraduate Program <br />
                    </h2>
                    <br />
                    <blockquote style="max-width:700px" class="m-auto">
                        "As a teaching discipline, science has long been an integral part of
                        the Ryerson community. With the university being located in the heart
                        of downtown Toronto, we are uniquely positioned to lead the science world
                        in education and research. In addition to our studies in class, we hop
                        to add value to the education of students by engaging them in prolific
                        research projects in cooperation with our accomplished faculty members.
                        The Faculty of Science is committed to interdisciplinary teaching and
                        research across our four departments - physics, chemistry and biology,
                        computer science, and mathematics - to prepare our students for a career
                        in the lab, the emergency room, and beyond."
                    </blockquote>
                    [<a href="https://www.ryerson.ca/science/about/" target="_blank">Faculty of Science Website</a>]


                </div>
            </div>
        </div>





        <div class="row" id="footer">
            <div class="col-lg-12">
                <hr>
                <div id="footer-area">
                    Page last updated on November 7<sup>th</sup>, 2020, by Rob Soltani
                    <p class="jigsaw-logo-container">
                        <a href="http://jigsaw.w3.org/css-validator/validator?uri=https://ccps530.ru.rob.soltani.io/lab5/"
                            target="_blank">
                            <img class="jigsaw-logo" src="https://jigsaw.w3.org/css-validator/images/vcss"
                                alt="Valid CSS!" />
                        </a>
                    </p>

                </div>

            </div>

        </div>

    </div>




    <!-- JS files: jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

    <script
        src="https://cdn.statically.io/gh/kswedberg/jquery-smooth-scroll/3948290d/jquery.smooth-scroll.min.js"></script>



    <script>

        // Taken from https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array

        function shuffle(array) {
            var currentIndex = array.length, temporaryValue, randomIndex;

            // While there remain elements to shuffle...
            while (0 !== currentIndex) {

                // Pick a remaining element...
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex -= 1;

                // And swap it with the current element.
                temporaryValue = array[currentIndex];
                array[currentIndex] = array[randomIndex];
                array[randomIndex] = temporaryValue;
            }

            return array;
        }
    </script>


    <script>

        let ContentList = [];
        let Template = "";
        let CurrentContentIndex = 0;
        // let TimerCounter = 0;

        let StartShow = function () {

            if (ContentList.length === 0 || Template.length === 0) {
                return;
            }


            let CurrentContent = ContentList[CurrentContentIndex];

            var image = new Image();
            image.src = CurrentContent.ImageURL;
            image.alt = CurrentContent.ImageAlt;

            var NewContent = Template;

            $(image).on('load', function () {

                $.ajax({
                    url: CurrentContent.Description
                })
                    .done(function (data) {

                        NewContent = NewContent.replace("{{Description}}", data);
                        NewContent = NewContent.replace("{{CitattionURL}}", CurrentContent.CitattionURL);
                        NewContent = NewContent.replace("{{CitationTitle}}", CurrentContent.CitationTitle);

                        NewContent = NewContent.replace("{{Profession}}", CurrentContent.Profession);
                        NewContent = NewContent.replace("{{Nationality}}", CurrentContent.Nationality);
                        NewContent = NewContent.replace("{{Website}}", CurrentContent.Website);
                        NewContent = NewContent.replace("{{FavouriteWorkTile}}", CurrentContent.FavouriteWorkTile);
                        NewContent = NewContent.replace("{{FavouriteWorkURL}}", CurrentContent.FavouriteWorkURL);

                        NewContent = NewContent.replace("{{ImageURL}}", CurrentContent.ImageURL);
                        NewContent = NewContent.replace("{{ImageAlt}}", CurrentContent.ImageAlt);

                        NewContent = NewContent.replace("{{ImageCredit}}", CurrentContent.ImageCredit);
                        NewContent = NewContent.replace("{{ImageCreditURL}}", CurrentContent.ImageCreditURL);

                        NewContent = NewContent.replace("{{Name}}", CurrentContent.Name);


                        $("#MyFavouritePersonalities").append(NewContent);

                        if ((CurrentContentIndex + 1) !== ContentList.length) {
                            CurrentContentIndex = CurrentContentIndex + 1;
                            setTimeout(function () { StartShow(); }, 1);
                        }


                    });

            })



        }


        $.ajax({
            url: "JSON_Content.json"
        })
            .done(function (data) {

                $.each(data, function (i, item) {

                    ContentList.push(item);

                });

                shuffle(ContentList);

                StartShow();

            });

        $.ajax({
            url: "template.hbs"
        })
            .done(function (data) {

                Template = data;

                StartShow();

            });

        $.ajax({
            url: "Must_JSON.json"
        })
            .done(function (data) {

                var Name = data.name;
                $('#MusctConsumeJSONCard .JSON_Name').html(Name);

                var year = data.year;
                $('#MusctConsumeJSONCard .JSON_Year').html(year);

                var imageURL = data.imageURL;
                $('#MusctConsumeJSONCard img').attr("src", imageURL);

                var Engine_type = data.engine.type;
                $('#MusctConsumeJSONCard .JSON_Engine_type').html("Type: " + Engine_type);

                var JSON_Engine_size = data.engine.size;
                $('#MusctConsumeJSONCard .JSON_Engine_size').html("Size: " + JSON_Engine_size);

                var JSON_Engine_configuration = data.engine.configuration;
                $('#MusctConsumeJSONCard .JSON_Engine_configuration').html("Configuration: " + JSON_Engine_configuration);

                var JSON_Brakes_front = data.brakes.front;
                $('#MusctConsumeJSONCard .JSON_Brakes_front').html("Front: " + JSON_Brakes_front);

                var JSON_Brakes_back = data.brakes.back;
                $('#MusctConsumeJSONCard .JSON_Brakes_back').html("Back: " + JSON_Brakes_back);


            });

    </script>

</body>

</html>